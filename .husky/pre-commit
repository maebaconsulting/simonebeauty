echo "ğŸ”’ Running pre-commit security checks..."

# Type check
echo "\nğŸ“˜ Type checking..."
pnpm exec tsc --noEmit || exit 1

# Lint
echo "\nğŸ” Linting..."
pnpm run lint || exit 1

# Validate API routes
echo "\nğŸ›£ï¸  Validating API routes..."
pnpm run validate:api-routes || exit 1

# Validate Suspense boundaries
echo "\nâ¸ï¸  Validating Suspense boundaries..."
pnpm run validate:suspense || exit 1

# Validate lazy initialization
echo "\nâš¡ Validating lazy initialization..."
pnpm run validate:lazy-init || exit 1

# Detect hardcoded secrets
echo "\nğŸ” Detecting hardcoded secrets..."
pnpm run validate:secrets || exit 1

echo "\nâœ… All pre-commit checks passed!\n"
